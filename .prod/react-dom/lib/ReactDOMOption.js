"use strict";function flattenChildren(e){var t="";React.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:didWarnInvalidOptionChildren||(didWarnInvalidOptionChildren=!0))});return t}var _assign=require("object-assign"),React=require("react/lib/React"),ReactDOMComponentTree=require("./ReactDOMComponentTree"),ReactDOMSelect=require("./ReactDOMSelect"),warning=require("fbjs/lib/warning"),didWarnInvalidOptionChildren=!1,ReactDOMOption={mountWrapper:function(e,t,r){var n=null;if(null!=r){var a=r;"optgroup"===a._tag&&(a=a._hostParent);null!=a&&"select"===a._tag&&(n=ReactDOMSelect.getSelectValueContext(a))}var l=null;if(null!=n){var i;i=null!=t.value?t.value+"":flattenChildren(t.children);l=!1;if(Array.isArray(n)){for(var o=0;o<n.length;o++){if(""+n[o]===i){l=!0;break}}}else{l=""+n===i}}e._wrapperState={selected:l}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var r=ReactDOMComponentTree.getNodeFromInstance(e);r.setAttribute("value",t.value)}},getHostProps:function(e,t){var r=_assign({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var n=flattenChildren(t.children);n&&(r.children=n);return r}};module.exports=ReactDOMOption;